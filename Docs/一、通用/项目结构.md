# 项目结构文档

## 整体项目结构

```
hanli-master/
├── Docs/                          # 项目文档
│   ├── App端/                     # 桌面应用文档
│   │   ├── 技术框架.md
│   │   ├── 项目结构.md
│   │   ├── UI规范.md
│   │   ├── PageContainer.md
│   │   ├── SideBar.md
│   │   ├── TopBar.md
│   │   ├── TopBarTabs.md
│   │   └── 迁移指南.md
│   ├── 插件端/                    # Chrome插件文档
│   │   └── 字段采集.md
│   └── README.md
├── hanli-app/                     # Electron桌面应用
│   ├── main.js                    # 主进程入口文件
│   ├── preload.js                 # 预加载脚本
│   ├── package.json               # 应用配置和依赖
│   ├── .gitignore                 # Git忽略文件
│   └── renderer/                  # 渲染进程(前端代码)
│       ├── index.html             # 主页面
│       ├── app.js                 # 主应用逻辑
│       ├── styles.css             # 全局样式
│       ├── components/            # 组件目录
│       │   ├── Common/            # 通用组件
│       │   │   ├── TopBar.js      # 顶部导航栏
│       │   │   ├── SideBar.js     # 侧边栏
│       │   │   ├── PageContainer.js # 页面容器
│       │   │   └── DataManager.js # 数据管理器
│       │   ├── Modal/             # 弹窗组件
│       │   │   ├── SettingsModal.js # 设置弹窗
│       │   │   ├── LogModal.js    # 日志弹窗
│       │   │   └── DebugModal.js  # 调试弹窗
│       │   ├── Image/             # 图片相关组件
│       │   │   ├── ImageGallery.js # 图片画廊
│       │   │   ├── ImageUpload.js # 图片上传
│       │   │   └── ImageManager.js # 图片管理
│       │   └── Detail/            # 详情页组件
│       │       ├── GoodsInfo.js   # 商品信息
│       │       └── DetailManager.js # 详情管理器
│       └── theme/                 # 主题样式
│           ├── light/             # 浅色主题
│           │   └── colors.css
│           └── dark/              # 深色主题
│               └── colors.css
├── hanli-plugin/                  # Chrome插件
│   ├── manifest.json              # 插件配置文件
│   ├── background.js              # 后台脚本
│   ├── content.js                 # 内容脚本
│   ├── popup.html                 # 弹窗页面
│   ├── popup.js                   # 弹窗逻辑
│   ├── dataCollector.js           # 数据采集器
│   ├── imageCollector.js          # 图片采集器
│   ├── videoCollector.js          # 视频采集器
│   ├── icons/                     # 插件图标
│   │   ├── icon16.png
│   │   ├── icon32.png
│   │   ├── icon48.png
│   │   └── icon128.png
│   └── package.json               # 插件依赖配置
└── README.md                      # 项目说明文档
```

## 详细目录说明

### 1. Docs/ - 项目文档
- **App端/**: 桌面应用相关文档
  - 技术框架、UI规范、组件说明等
- **插件端/**: Chrome插件相关文档
  - 功能说明、使用指南等

### 2. hanli-app/ - Electron桌面应用

#### 2.1 根目录文件
- **main.js**: Electron主进程入口，负责创建窗口、处理系统事件
- **preload.js**: 预加载脚本，提供安全的API给渲染进程
- **package.json**: 应用配置、依赖管理、脚本命令

#### 2.2 renderer/ - 渲染进程(前端)
- **index.html**: 主页面HTML结构
- **app.js**: 主应用逻辑，负责页面初始化和路由管理
- **styles.css**: 全局样式文件

#### 2.3 renderer/components/ - 组件系统
- **Common/**: 通用组件
  - `TopBar.js`: 顶部导航栏组件
  - `SideBar.js`: 侧边栏组件
  - `PageContainer.js`: 页面容器组件
  - `DataManager.js`: 数据管理组件

- **Modal/**: 弹窗组件
  - `SettingsModal.js`: 设置弹窗
  - `LogModal.js`: 日志查看弹窗
  - `DebugModal.js`: 调试信息弹窗

- **Image/**: 图片相关组件
  - `ImageGallery.js`: 图片画廊展示
  - `ImageUpload.js`: 图片上传功能
  - `ImageManager.js`: 图片管理逻辑

- **Detail/**: 详情页组件
  - `GoodsInfo.js`: 商品信息展示
  - `DetailManager.js`: 详情页管理器

#### 2.4 renderer/theme/ - 主题系统
- **light/**: 浅色主题样式
- **dark/**: 深色主题样式

### 3. hanli-plugin/ - Chrome插件

#### 3.1 核心文件
- **manifest.json**: 插件配置文件，定义权限和入口
- **background.js**: 后台脚本，处理插件生命周期
- **content.js**: 内容脚本，注入到网页中
- **popup.html/js**: 插件弹窗界面

#### 3.2 功能模块
- **dataCollector.js**: 通用数据采集器
- **imageCollector.js**: 图片数据采集
- **videoCollector.js**: 视频数据采集

#### 3.3 资源文件
- **icons/**: 插件图标文件(16x16, 32x32, 48x48, 128x128)

## 文件命名规范

### JavaScript文件
- 使用驼峰命名法: `ImageManager.js`
- 组件文件以功能命名: `TopBar.js`, `SideBar.js`
- 管理器文件以Manager结尾: `DataManager.js`

### CSS文件
- 使用连字符命名: `styles.css`, `colors.css`
- 主题文件放在对应主题目录下

### HTML文件
- 使用连字符命名: `index.html`, `popup.html`

## 组件开发规范

### 1. 组件结构
每个组件都是独立的HTML文件，包含：
- HTML结构
- CSS样式
- JavaScript逻辑

### 2. 组件目录
- 按功能分类放在不同子目录
- 弹窗组件统一放在 `Modal/` 目录
- 通用组件放在 `Common/` 目录

### 3. 样式隔离
- 使用CSS类名和ID进行样式隔离
- 主要div元素需要添加id或class名称(使用缩写)

## 数据流架构

```
用户操作 → 组件事件 → 数据管理器 → 本地存储/数据库
    ↓
UI更新 ← 状态变化 ← 事件系统 ← 数据变化
```

## 开发工作流

1. **组件开发**: 在 `renderer/components/` 下创建新组件
2. **样式开发**: 在对应主题目录下添加样式
3. **功能集成**: 在 `app.js` 中集成组件
4. **测试调试**: 使用Electron开发模式测试
5. **打包发布**: 使用electron-builder打包

## 注意事项

- 所有组件都应该是独立的，便于维护和复用
- 弹窗组件必须放在 `renderer/components/Modal/` 目录
- 遵循项目的命名规范和代码规范
- 保持代码的可读性和可维护性