# 代码规范文档

## 1. 图标系统规范

### 1.1 图标颜色规范
- **统一使用RGBA颜色值**：确保图标在不同主题下的颜色一致性和可维护性
- **亮色主题**：图标使用 `rgba(102, 102, 102, 0.8)` (黑色半透明)
- **暗色主题**：图标使用 `rgba(255, 255, 255, 0.8)` (白色半透明)
- **透明度标准**：统一使用 `0.8` (80%) 透明度

### 1.2 图标实现规范
- **图标库**：使用Phosphor Icons本地化方案
- **文件位置**：`renderer/icons-simple.css`
- **实现方式**：
  - 使用SVG内联数据URI
  - 通过CSS变量 `--icon-color` 控制颜色
  - 禁用CSS滤镜，直接设置颜色值
- **SVG属性**：使用 `stroke='var(--icon-color)'` 动态控制颜色

### 1.3 图标CSS变量定义
```css
/* 图标颜色变量 - 统一使用RGBA */
:root {
    --icon-color: rgba(102, 102, 102, 0.8); /* 默认黑色半透明 */
}

.theme-dark {
    --icon-color: rgba(255, 255, 255, 0.8); /* 暗色主题白色半透明 */
}
```

### 1.4 图标使用示例
```html
<!-- 正确的图标使用方式 -->
<i class="ph ph-house"></i>
<i class="ph ph-package"></i>
<i class="ph ph-gear"></i>
```

### 1.5 新增图标规范
当需要新增图标时，必须遵循以下规范：
1. 使用Phosphor Icons的设计风格
2. 在 `icons-simple.css` 中添加图标定义
3. 使用 `stroke='var(--icon-color)'` 设置颜色
4. 保持与其他图标一致的透明度和样式

## 2. 颜色使用规范

### 2.1 RGBA颜色优先
- **优先使用RGBA**：在需要透明度的场景下，优先使用RGBA颜色值
- **避免十六进制+opacity**：不使用 `#666666` + `opacity: 0.8` 的组合
- **直接透明度**：在颜色值中直接包含透明度信息

### 2.2 颜色命名规范
- **CSS变量命名**：使用语义化命名，如 `--icon-color`
- **颜色值格式**：统一使用RGBA格式，如 `rgba(102, 102, 102, 0.8)`
- **主题适配**：通过CSS变量实现主题切换

### 2.3 颜色使用示例
```css
/* 正确的颜色定义 */
:root {
    --primary-color: rgba(59, 130, 246, 1);
    --secondary-color: rgba(107, 114, 128, 0.8);
    --icon-color: rgba(102, 102, 102, 0.8);
}

.theme-dark {
    --primary-color: rgba(96, 165, 250, 1);
    --secondary-color: rgba(156, 163, 175, 0.8);
    --icon-color: rgba(255, 255, 255, 0.8);
}
```

## 3. CSS编写规范

### 3.1 变量使用
- **统一变量**：所有颜色使用CSS变量定义
- **主题适配**：通过变量实现主题切换
- **语义化命名**：变量名具有明确的语义

### 3.2 样式组织
- **文件分离**：图标样式独立文件管理
- **模块化**：按功能模块组织CSS代码
- **注释规范**：关键样式添加中文注释

### 3.3 性能优化
- **避免滤镜**：不使用CSS滤镜属性
- **直接颜色**：直接设置颜色值，避免计算
- **内联SVG**：使用数据URI减少HTTP请求

## 4. 维护规范

### 4.1 图标维护
- **版本控制**：图标文件纳入版本控制
- **一致性检查**：定期检查图标颜色一致性
- **文档更新**：图标变更时更新相关文档

### 4.2 代码审查
- **颜色检查**：审查时检查是否使用RGBA格式
- **变量使用**：确保使用CSS变量而非硬编码颜色
- **主题适配**：验证主题切换功能正常

## 5. 注意事项

### 5.1 兼容性
- **浏览器支持**：确保RGBA颜色在目标浏览器中正常显示
- **降级方案**：为不支持RGBA的浏览器提供降级方案

### 5.2 性能考虑
- **文件大小**：控制图标CSS文件大小
- **加载优化**：优化图标加载性能
- **缓存策略**：合理设置图标文件缓存

### 5.3 开发效率
- **工具支持**：使用合适的开发工具
- **自动化**：考虑图标生成的自动化流程
- **文档维护**：保持文档与代码同步
