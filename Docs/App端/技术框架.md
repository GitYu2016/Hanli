# 技术框架 需求文档

## 1. 应用平台
- Electron开发桌面端应用
- 支持Windows、macOS、Linux平台

## 2. 前端技术栈
- **核心框架**: 原生HTML5 + CSS3 + JavaScript (ES6+)
- **UI框架**: 不使用React、Vue、Angular等现代框架
- **构建工具**: 不使用Vite、Webpack等现代构建工具
- **样式预处理**: 原生CSS，支持CSS变量
- **模块化**: 使用ES6模块 (import/export)
- **状态管理**: 原生JavaScript对象和事件系统

## 3. 后端技术栈
- **运行时**: Node.js
- **框架**: Express.js
- **数据库**: MongoDB
- **API**: RESTful API设计

## 4. 项目结构
```
hanli-master/
├── hanli-app/                 # Electron主应用
│   ├── main.js               # 主进程入口
│   ├── preload.js            # 预加载脚本
│   ├── package.json          # 应用配置
│   └── renderer/             # 渲染进程(前端)
│       ├── index.html        # 主页面
│       ├── styles.css        # 全局样式
│       ├── app.js            # 主应用逻辑
│       ├── components/       # 组件目录
│       └── theme/            # 主题样式
│           ├── light/        # 浅色主题
│           └── dark/         # 深色主题
├── hanli-plugin/             # Chrome插件
└── Docs/                     # 项目文档
```

## 5. 开发工具和构建
- **代码编辑器**: 推荐使用Cursor或VS Code
- **版本控制**: Git
- **包管理**: npm
- **代码质量**: 不使用ESLint、Prettier等格式化工具
- **类型检查**: 不使用TypeScript，使用原生JavaScript

## 6. 样式方案
- **全局样式**: global.css、colors.css
- **主题系统**: 
  - 支持三种主题：跟随系统、浅色、深色
  - 默认主题：跟随系统
  - 使用CSS变量实现主题切换
- **颜色规范**: 使用Radix颜色令牌
- **响应式**: 支持桌面端适配

## 7. 组件化开发
- **组件结构**: 每个组件独立HTML文件
- **组件目录**: renderer/components/
- **弹窗组件**: 独立组件，放在renderer/components/Modal/
- **样式隔离**: 使用CSS类名和ID进行样式隔离
- **命名规范**: 使用缩写命名主要div元素

## 8. 数据管理
- **存储格式**: 
  - 时间格式：时间戳 (毫秒) "timestamp": 1725648000000
  - ID格式：12位数字UUID
  - 货币单位：RMB
  - 重量单位：g
  - 尺寸单位：mm
- **状态管理**: 使用原生JavaScript对象和事件系统
- **数据持久化**: 本地存储 + 数据库

## 9. 开发环境
- **Node.js**: 版本 >= 16.0.0
- **Electron**: 最新稳定版
- **开发服务器**: 使用Electron内置开发模式
- **热重载**: 使用Electron的自动重启功能

## 10. 部署相关
- **打包工具**: electron-builder
- **支持平台**: Windows、macOS、Linux
- **安装包**: 生成对应平台的安装包
- **自动更新**: 暂不支持自动更新功能

## 11. 性能优化
- **代码分割**: 使用ES6模块按需加载
- **资源优化**: 图片压缩、CSS/JS压缩
- **内存管理**: 及时清理事件监听器和定时器
- **渲染优化**: 使用requestAnimationFrame优化动画

## 12. 开发规范
- **文件命名**: 使用驼峰命名法
- **CSS类名**: 使用BEM命名规范
- **JavaScript**: 使用ES6+语法
- **注释**: 关键功能必须添加中文注释
- **错误处理**: 使用try-catch处理异步操作

## 备注
- 此文档为技术架构说明，具体实现细节将在后续开发阶段进行
- 优先使用原生Web技术，避免引入复杂的构建工具和框架
- 注重代码的可读性和维护性