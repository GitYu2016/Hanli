# 产品库列表

## 功能概述

产品库列表页面用于展示所有已采集的产品信息，提供实时数据更新和分页浏览功能。

## 界面设计

### 列表显示字段

1. **产品标题** (goodsCat3)
   - 显示产品的完整标题
   - 支持悬停显示完整内容
   - 最大显示长度：50字符

2. **昨日销量** (yesterdaySales)
   - 显示昨日销售数量
   - 格式：数字 + "件"
   - 无数据时显示："-"

3. **价格增长百分比** (priceGrowthPercent)
   - 计算价格增长百分比
   - 格式：+X.X% 或 -X.X%
   - 正数显示绿色，负数显示红色
   - 无数据时显示："-"

4. **采集日期** (collectTime)
   - 显示产品采集的时间
   - 格式：YYYY-MM-DD HH:mm
   - 相对时间显示：X天前、X小时前

### 排序规则

- **默认排序**：按采集时间倒序（最近采集的在最上面）
- **支持排序**：点击列标题可切换升序/降序
- **多列排序**：支持多列组合排序

### 分页功能

- **每页显示**：100个产品（默认）
- **翻页控件**：上一页、下一页、页码跳转
- **页面信息**：显示当前页/总页数、总产品数
- **快速跳转**：支持直接输入页码跳转

## 数据刷新机制

### 自动刷新

1. **进入页面时**：立即刷新一次
2. **定时刷新**：每5秒自动刷新一次
3. **刷新状态**：显示刷新进度和最后更新时间

### 手动刷新

- **刷新按钮**：点击立即刷新
- **下拉刷新**：支持下拉手势刷新（移动端）
- **快捷键**：F5或Ctrl+R刷新

## 交互功能

### 列表操作

1. **行选择**：支持单选和多选
2. **批量操作**：删除、导出、标记等
3. **行悬停**：高亮显示当前行
4. **点击行**：跳转到产品详情页

### 搜索和筛选

1. **搜索框**：按产品标题搜索
2. **筛选器**：
   - 按采集日期范围筛选
   - 按销量范围筛选
   - 按价格增长范围筛选
3. **高级筛选**：多条件组合筛选

### 数据导出

1. **导出格式**：CSV、Excel、JSON
2. **导出范围**：当前页、选中项、全部数据
3. **导出字段**：可自定义导出字段

## 技术实现

### 数据源

- **数据路径**：`data/goods-library/`
- **文件结构**：每个产品一个文件夹
- **数据文件**：`product.json`、`monitoring.json`、`media.json`

### 性能优化

1. **虚拟滚动**：大量数据时使用虚拟滚动
2. **懒加载**：图片和媒体文件懒加载
3. **缓存机制**：数据缓存和增量更新
4. **防抖处理**：搜索和筛选防抖

### 错误处理

1. **网络错误**：显示重试按钮
2. **数据错误**：显示错误提示
3. **加载失败**：显示加载失败状态
4. **空数据**：显示空状态提示

## 响应式设计

### 桌面端 (≥1024px)
- 显示所有字段
- 支持多列排序
- 完整的分页控件

### 平板端 (768px-1023px)
- 隐藏部分次要字段
- 简化分页控件
- 优化触摸交互

### 移动端 (<768px)
- 卡片式布局
- 滑动操作
- 简化界面元素

## 状态管理

### 加载状态
- 初始加载
- 刷新加载
- 分页加载
- 搜索加载

### 错误状态
- 网络错误
- 数据错误
- 权限错误
- 服务器错误

### 空状态
- 无数据
- 搜索无结果
- 筛选无结果

## 用户体验

### 视觉反馈
- 加载动画
- 悬停效果
- 点击反馈
- 状态指示

### 操作反馈
- 成功提示
- 错误提示
- 操作确认
- 进度显示

### 性能体验
- 快速响应
- 流畅滚动
- 即时搜索
- 平滑动画
