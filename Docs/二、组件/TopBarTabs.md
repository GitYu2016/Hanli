# TopBarTabs 需求文档

## 1. 组件位置和显示
- TopBarTabs位于TopBar，且居中
- 最宽宽度不超过TopBar宽度的50%
- Tab不限制数量
- Tab数量过多，总宽度超过定义的容器最大宽度时，支持横向滚动，且不显示滚动条
- Tab的间距为6px

## 2. Tab样式和行为

### Tab默认状态
1. 由"页面类型图标"和"页面标题"组成
2. Tab背景色为透明度较高的颜色，倒角12px
3. 不同页面类型对应的图标，由每个页面定义"PageIcon"，尺寸为24x24px
4. 默认的Tab宽度最小为88px，最大宽度为156px

### Tab鼠标悬浮状态
1. **默认状态下**：鼠标悬浮时，左侧类型图标切换为"x"关闭图标
2. **选中状态下**：鼠标悬浮时，保持显示"x"关闭图标
3. **当Tab数量只剩一个时**：无论是否悬浮，都显示类型图标，不显示"x"图标
4. "x"图标鼠标悬浮时，"x"图标的颜色透明度变高

### Tab当前被选中状态
1. 页面类型图标替换为"x"关闭图标
2. 点击可关闭Tab，关闭后，自动选中上一个Tab
3. **当Tab数量只剩一个时**：无论是否选中，都显示类型图标，不显示"x"图标，因为不支持关闭最后一个Tab
4. 选中某一个Tab时，其他页面为默认状态
5. Tab背景色为透明度较低的颜色，倒角12px
6. "x"图标默认透明度较低，鼠标悬浮到"x"图标时，图标颜色的透明度变高
7. 鼠标悬浮到当前选中的Tab时，暂时没有变化
8. 选中的Tab最小宽度为156px，最大宽度为200px


## 3. 交互逻辑

### 示例场景
侧边栏有"首页"、"Page1"、"Page2"

### 启动App
- 默认选中"首页"，Tab也是选中"首页"

### 页面切换
1. 当点击"Page1"，新增Page1的Tab，并选中该Tab，页面显示Page1内容
2. 当点击"Page2"，新增Page2的Tab，并选中该Tab，页面显示Page2内容
3. 可以通过切换"首页"、"Page1"、"Page2"的Tab，实现页面切换

## 4. 高级功能

### 拖拽排序
- 支持拖拽调整Tab顺序

### 键盘快捷键
- 支持关闭Tab的快捷键（如Ctrl+W）

## 5. 动画效果

### Tab宽度变化动画
- Tab切换时，宽度变化增加动画，2s的EaseInOut缓进缓出动画

### Tab位置移动动画
- 关闭Tab时，Tab的位置移动增加动画，2s的EaseInOut缓进缓出动画

## 6. 页面类型和图标定义

### 页面类型
每个页面都有一个type属性，用于标识页面类型：
- `home`: 首页
- `goodsDetail`: 商品详情页
- `goodsList`: 商品列表页
- 其他页面类型将在后续开发中定义

### 页面图标
不同页面类型对应不同的图标，图标规格为24x24px的SVG：
- 暂时使用SVG绘制，后续可替换为设计图标
- 图标需要支持主题切换（浅色/深色模式）

## 7. Tab关闭逻辑

### 关闭非当前Tab
- 关闭其他Tab时，不影响当前选中的Tab
- 当前选中的Tab保持不变

### 关闭当前Tab
- 关闭当前选中的Tab时，自动选中替代Tab
- 优先选择：从左边数，最近的一个Tab
- 备选方案：如果左边没有Tab，则从右边数，最近的一个Tab

## 8. Tab新增方式

### 当前支持
- 侧边栏点击新增Tab

### 后续扩展
- 支持更多新增Tab的方式（如右键菜单、快捷键、URL参数等）

## 备注
- 此文档为需求规格说明，具体实现代码将在后续开发阶段进行
