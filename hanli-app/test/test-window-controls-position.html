<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>窗口控制按钮位置测试</title>
    <link rel="stylesheet" href="../renderer/styles.css">
    <link rel="stylesheet" href="../renderer/theme/light/colors.css">
    <link rel="stylesheet" href="../renderer/icons-fixed.css">
    <style>
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            background-color: var(--color-card-background);
            border-radius: 8px;
            border: 1px solid var(--color-border);
        }
        
        .test-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--color-text-primary);
            margin-bottom: 15px;
        }
        
        .test-description {
            color: var(--color-text-secondary);
            margin-bottom: 20px;
            font-size: 14px;
        }
        
        .mock-window {
            width: 100%;
            height: 300px;
            background-color: var(--color-background);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            position: relative;
            overflow: hidden;
        }
        
        .mock-window-controls {
            position: absolute;
            top: 12px;
            left: 12px;
            display: flex;
            gap: 8px;
        }
        
        .mock-control-btn {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
        }
        
        .mock-close {
            background-color: #ff5f57;
        }
        
        .mock-minimize {
            background-color: #ffbd2e;
        }
        
        .mock-maximize {
            background-color: #28ca42;
        }
        
        .status-info {
            margin-top: 15px;
            padding: 10px;
            background-color: var(--color-hover);
            border-radius: 6px;
            font-size: 12px;
            color: var(--color-text-secondary);
        }
        
        .adjustment-controls {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .adjustment-controls button {
            padding: 6px 12px;
            border: 1px solid var(--color-border);
            border-radius: 4px;
            background-color: var(--color-card-background);
            color: var(--color-text-primary);
            cursor: pointer;
            font-size: 12px;
        }
        
        .adjustment-controls button:hover {
            background-color: var(--color-hover);
        }
    </style>
</head>
<body>
    <div class="test-section">
        <h2 class="test-title">窗口控制按钮位置调整测试</h2>
        <p class="test-description">测试macOS默认窗口控制按钮的位置调整效果。当前设置：titleBarOverlay.y: 8px</p>
        
        <div class="mock-window">
            <div class="mock-window-controls">
                <div class="mock-control-btn mock-close"></div>
                <div class="mock-control-btn mock-minimize"></div>
                <div class="mock-control-btn mock-maximize"></div>
            </div>
            
            <!-- 模拟TopBar -->
            <div class="top-bar">
                <div class="top-bar-left">
                    <div class="logo">Hanli</div>
                </div>
                <div class="top-bar-center">
                    <div class="top-bar-tabs">
                        <div class="tab active">
                            <div class="tab-icon">
                                <i class="ph ph-house"></i>
                            </div>
                            <div class="tab-text">首页</div>
                            <div class="tab-close">
                                <i class="ph ph-x"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="top-bar-right">
                    <button class="settings-btn">
                        <i class="ph ph-gear"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <div class="adjustment-controls">
            <button onclick="adjustPosition(0)">重置位置</button>
            <button onclick="adjustPosition(4)">向下4px</button>
            <button onclick="adjustPosition(8)">向下8px</button>
            <button onclick="adjustPosition(12)">向下12px</button>
            <button onclick="adjustPosition(16)">向下16px</button>
        </div>
        
        <div class="status-info">
            <strong>当前设置：</strong><br>
            • titleBarOverlay.y: <span id="current-offset">8px</span><br>
            • 窗口控制按钮向下移动了相应的距离<br>
            • 应用内容保持原位置不变
        </div>
    </div>
    
    <div class="test-section">
        <h2 class="test-title">说明</h2>
        <div class="status-info">
            <strong>调整方法：</strong><br>
            1. 使用 titleBarOverlay.y 来向下移动窗口控制按钮<br>
            2. 只移动窗口控制按钮，不影响其他内容<br>
            3. 在Electron应用中，这个设置只影响窗口控制按钮的位置<br><br>
            
            <strong>优势：</strong><br>
            • 精确控制：只移动窗口控制按钮，内容保持原位置<br>
            • 原生体验：使用系统默认的窗口控制按钮<br>
            • 性能优秀：无需额外的CSS或JavaScript<br><br>
            
            <strong>注意事项：</strong><br>
            • 在浏览器环境中无法看到真实的窗口控制按钮<br>
            • 需要在Electron应用中测试实际效果<br>
            • 调整值越大，按钮位置越靠下
        </div>
    </div>
    
    <script>
        function adjustPosition(offset) {
            // 这里只是演示，实际调整需要在main.js中修改titleBarOverlay.y
            document.getElementById('current-offset').textContent = offset + 'px';
            
            // 模拟窗口控制按钮位置变化
            const mockControls = document.querySelector('.mock-window-controls');
            mockControls.style.top = (12 + offset) + 'px';
        }
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            adjustPosition(8); // 默认8px
        });
    </script>
</body>
</html>
