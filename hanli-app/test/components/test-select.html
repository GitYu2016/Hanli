<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select ç»„ä»¶æµ‹è¯•</title>
    <link rel="stylesheet" href="../../renderer/theme/light/colors.css">
    <link rel="stylesheet" href="../../renderer/globals.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 20px;
            background-color: var(--color-body-bg-default);
            color: var(--color-primary);
        }

        .test-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .test-section {
            margin-bottom: 40px;
            padding: 20px;
            background-color: var(--color-background-normal);
            border-radius: 6px;
            border: 1px solid var(--color-border-normal);
        }

        .test-section h2 {
            margin-top: 0;
            margin-bottom: 16px;
            color: var(--color-primary);
        }

        .test-section h3 {
            margin-top: 20px;
            margin-bottom: 12px;
            color: var(--color-primary);
        }

        .test-item {
            margin-bottom: 20px;
        }

        .test-item label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--color-primary);
        }

        .result {
            margin-top: 10px;
            padding: 10px;
            background-color: var(--color-background-focused);
            border-radius: 4px;
            font-family: monospace;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>Select ç»„ä»¶æµ‹è¯•</h1>
        
        <!-- åŸºç¡€æµ‹è¯• -->
        <div class="test-section">
            <h2>åŸºç¡€åŠŸèƒ½æµ‹è¯•</h2>
            
            <div class="test-item">
                <label>åŸºç¡€é€‰æ‹©å™¨ï¼š</label>
                <div id="basic-select"></div>
                <div class="result" id="basic-result">å½“å‰å€¼: æ— </div>
            </div>

            <div class="test-item">
                <label>å¸¦å›¾æ ‡çš„é€‰æ‹©å™¨ï¼š</label>
                <div id="icon-select"></div>
                <div class="result" id="icon-result">å½“å‰å€¼: æ— </div>
            </div>

            <div class="test-item">
                <label>å¸¦é»˜è®¤å€¼çš„é€‰æ‹©å™¨ï¼š</label>
                <div id="default-select"></div>
                <div class="result" id="default-result">å½“å‰å€¼: æ— </div>
            </div>
        </div>

        <!-- è‡ªå®šä¹‰æ ·å¼æµ‹è¯• -->
        <div class="test-section">
            <h2>è‡ªå®šä¹‰æ ·å¼æµ‹è¯•</h2>
            
            <div class="test-item">
                <label>è‡ªå®šä¹‰å ä½ç¬¦ï¼š</label>
                <div id="custom-placeholder-select"></div>
                <div class="result" id="custom-placeholder-result">å½“å‰å€¼: æ— </div>
            </div>

            <div class="test-item">
                <label>è‡ªå®šä¹‰ç±»åï¼š</label>
                <div id="custom-class-select"></div>
                <div class="result" id="custom-class-result">å½“å‰å€¼: æ— </div>
            </div>
        </div>

        <!-- äº‹ä»¶æµ‹è¯• -->
        <div class="test-section">
            <h2>äº‹ä»¶æµ‹è¯•</h2>
            
            <div class="test-item">
                <label>äº‹ä»¶ç›‘å¬æµ‹è¯•ï¼š</label>
                <div id="event-select"></div>
                <div class="result" id="event-result">
                    äº‹ä»¶æ—¥å¿—:<br>
                    <span id="event-log">æš‚æ— äº‹ä»¶</span>
                </div>
            </div>
        </div>

        <!-- æ–¹æ³•æµ‹è¯• -->
        <div class="test-section">
            <h2>æ–¹æ³•æµ‹è¯•</h2>
            
            <div class="test-item">
                <label>åŠ¨æ€è®¾ç½®é€‰é¡¹ï¼š</label>
                <div id="dynamic-select"></div>
                <div class="result" id="dynamic-result">å½“å‰å€¼: æ— </div>
                <button onclick="updateOptions()">æ›´æ–°é€‰é¡¹</button>
                <button onclick="setValue()">è®¾ç½®å€¼ä¸º 'option2'</button>
            </div>
        </div>
    </div>

    <!-- å¼•å…¥ Select ç»„ä»¶ -->
    <script src="../../renderer/components/Common/Select.js"></script>
    
    <script>
        // åŸºç¡€é€‰æ‹©å™¨
        const basicSelect = new Select({
            options: [
                { value: 'option1', label: 'é€‰é¡¹ä¸€' },
                { value: 'option2', label: 'é€‰é¡¹äºŒ' },
                { value: 'option3', label: 'é€‰é¡¹ä¸‰' }
            ],
            onChange: (value) => {
                document.getElementById('basic-result').textContent = `å½“å‰å€¼: ${value || 'æ— '}`;
            }
        });
        document.getElementById('basic-select').innerHTML = basicSelect.render();
        basicSelect.bindEvents(document.getElementById('basic-select'));

        // å¸¦å›¾æ ‡çš„é€‰æ‹©å™¨
        const iconSelect = new Select({
            options: [
                { value: 'home', label: 'é¦–é¡µ', icon: 'ğŸ ' },
                { value: 'settings', label: 'è®¾ç½®', icon: 'âš™ï¸' },
                { value: 'profile', label: 'ä¸ªäººèµ„æ–™', icon: 'ğŸ‘¤' }
            ],
            onChange: (value) => {
                document.getElementById('icon-result').textContent = `å½“å‰å€¼: ${value || 'æ— '}`;
            }
        });
        document.getElementById('icon-select').innerHTML = iconSelect.render();
        iconSelect.bindEvents(document.getElementById('icon-select'));

        // å¸¦é»˜è®¤å€¼çš„é€‰æ‹©å™¨
        const defaultSelect = new Select({
            options: [
                { value: 'red', label: 'çº¢è‰²' },
                { value: 'green', label: 'ç»¿è‰²' },
                { value: 'blue', label: 'è“è‰²' }
            ],
            value: 'green',
            onChange: (value) => {
                document.getElementById('default-result').textContent = `å½“å‰å€¼: ${value || 'æ— '}`;
            }
        });
        document.getElementById('default-select').innerHTML = defaultSelect.render();
        defaultSelect.bindEvents(document.getElementById('default-select'));

        // è‡ªå®šä¹‰å ä½ç¬¦
        const customPlaceholderSelect = new Select({
            options: [
                { value: 'small', label: 'å°å·' },
                { value: 'medium', label: 'ä¸­å·' },
                { value: 'large', label: 'å¤§å·' }
            ],
            placeholder: 'è¯·é€‰æ‹©å°ºå¯¸',
            onChange: (value) => {
                document.getElementById('custom-placeholder-result').textContent = `å½“å‰å€¼: ${value || 'æ— '}`;
            }
        });
        document.getElementById('custom-placeholder-select').innerHTML = customPlaceholderSelect.render();
        customPlaceholderSelect.bindEvents(document.getElementById('custom-placeholder-select'));

        // è‡ªå®šä¹‰ç±»å
        const customClassSelect = new Select({
            options: [
                { value: 'apple', label: 'è‹¹æœ' },
                { value: 'banana', label: 'é¦™è•‰' },
                { value: 'orange', label: 'æ©™å­' }
            ],
            className: 'custom-select',
            onChange: (value) => {
                document.getElementById('custom-class-result').textContent = `å½“å‰å€¼: ${value || 'æ— '}`;
            }
        });
        document.getElementById('custom-class-select').innerHTML = customClassSelect.render();
        customClassSelect.bindEvents(document.getElementById('custom-class-select'));

        // äº‹ä»¶ç›‘å¬æµ‹è¯•
        let eventLog = [];
        const eventSelect = new Select({
            options: [
                { value: 'event1', label: 'äº‹ä»¶ä¸€' },
                { value: 'event2', label: 'äº‹ä»¶äºŒ' },
                { value: 'event3', label: 'äº‹ä»¶ä¸‰' }
            ],
            onChange: (value) => {
                eventLog.push(`onChange: ${value}`);
                updateEventLog();
            },
            onFocus: () => {
                eventLog.push('onFocus');
                updateEventLog();
            },
            onBlur: () => {
                eventLog.push('onBlur');
                updateEventLog();
            }
        });
        document.getElementById('event-select').innerHTML = eventSelect.render();
        eventSelect.bindEvents(document.getElementById('event-select'));

        function updateEventLog() {
            const logElement = document.getElementById('event-log');
            logElement.innerHTML = eventLog.slice(-5).join('<br>'); // åªæ˜¾ç¤ºæœ€è¿‘5ä¸ªäº‹ä»¶
        }

        // åŠ¨æ€é€‰æ‹©å™¨
        const dynamicSelect = new Select({
            options: [
                { value: 'item1', label: 'é¡¹ç›®ä¸€' },
                { value: 'item2', label: 'é¡¹ç›®äºŒ' }
            ],
            onChange: (value) => {
                document.getElementById('dynamic-result').textContent = `å½“å‰å€¼: ${value || 'æ— '}`;
            }
        });
        document.getElementById('dynamic-select').innerHTML = dynamicSelect.render();
        dynamicSelect.bindEvents(document.getElementById('dynamic-select'));

        // å…¨å±€æ–¹æ³•
        window.updateOptions = function() {
            const newOptions = [
                { value: 'new1', label: 'æ–°é¡¹ç›®ä¸€' },
                { value: 'new2', label: 'æ–°é¡¹ç›®äºŒ' },
                { value: 'new3', label: 'æ–°é¡¹ç›®ä¸‰' }
            ];
            dynamicSelect.setOptions(newOptions);
        };

        window.setValue = function() {
            dynamicSelect.setValue('option2');
        };

        // åˆå§‹åŒ–é»˜è®¤å€¼æ˜¾ç¤º
        document.getElementById('default-result').textContent = `å½“å‰å€¼: ${defaultSelect.getValue() || 'æ— '}`;
    </script>
</body>
</html>
