<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‡ªå®šä¹‰çª—å£æ§åˆ¶æŒ‰é’®æµ‹è¯•</title>
    <link rel="stylesheet" href="../renderer/icons-fixed.css">
    <link rel="stylesheet" href="../renderer/theme/light/colors.css">
    <link rel="stylesheet" href="../renderer/theme/dark/colors.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: inherit;
        }

        body {
            font-family: system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--color-background);
            color: var(--color-text-primary);
            line-height: 1.6;
            padding-top: 32px; /* ä¸ºçª—å£æ§åˆ¶æŒ‰é’®ç•™å‡ºç©ºé—´ */
        }

        /* è‡ªå®šä¹‰çª—å£æ§åˆ¶æŒ‰é’® */
        .window-controls {
            position: fixed;
            top: 18px;
            left: 12px;
            display: flex;
            gap: 4px;
            z-index: 1000;
            -webkit-app-region: no-drag;
        }

        .window-control-btn {
            width: 12px;
            height: 12px;
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            -webkit-app-region: no-drag;
        }

        .window-control-btn i {
            font-size: 8px;
            color: transparent; /* é»˜è®¤éšè—å›¾æ ‡ï¼Œåªæ˜¾ç¤ºé¢œè‰² */
        }

        .window-control-btn:hover {
            background-color: var(--color-hover);
        }

        .close-btn {
            background-color: #ff5f57;
        }

        .close-btn:hover {
            background-color: #ff3b30;
        }

        .close-btn:hover i {
            color: white;
        }

        .minimize-btn {
            background-color: #ffbd2e;
        }

        .minimize-btn:hover {
            background-color: #ff9500;
        }

        .minimize-btn:hover i {
            color: white;
        }

        .maximize-btn {
            background-color: #28ca42;
        }

        .maximize-btn:hover {
            background-color: #1dbd36;
        }

        .maximize-btn:hover i {
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background-color: var(--color-card-background);
            border-radius: 12px;
            border: 1px solid var(--color-border);
        }

        .section {
            margin: 30px 0;
            padding: 25px;
            background-color: var(--color-card-background);
            border-radius: 12px;
            border: 1px solid var(--color-border);
        }

        .section h2 {
            color: var(--color-text-primary);
            margin-bottom: 20px;
            font-size: 24px;
            border-bottom: 2px solid var(--color-primary);
            padding-bottom: 10px;
        }

        .demo-area {
            display: flex;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
            padding: 20px;
            background-color: var(--color-hover);
            border-radius: 8px;
            border: 1px solid var(--color-border);
        }

        .demo-controls {
            display: flex;
            gap: 8px;
        }

        .demo-btn {
            width: 32px;
            height: 32px;
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .demo-btn i {
            font-size: 14px;
        }

        .demo-close-btn {
            background-color: #ff5f57;
        }

        .demo-close-btn:hover {
            background-color: #ff3b30;
        }

        .demo-close-btn:hover i {
            color: white;
        }

        .demo-minimize-btn {
            background-color: #ffbd2e;
        }

        .demo-minimize-btn:hover {
            background-color: #ff9500;
        }

        .demo-minimize-btn:hover i {
            color: white;
        }

        .demo-maximize-btn {
            background-color: #28ca42;
        }

        .demo-maximize-btn:hover {
            background-color: #1dbd36;
        }

        .demo-maximize-btn:hover i {
            color: white;
        }

        .code-block {
            background-color: var(--color-input-background);
            border: 1px solid var(--color-border);
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 13px;
            overflow-x: auto;
        }

        .highlight {
            background-color: var(--color-primary);
            color: var(--color-primary-foreground);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 500;
        }

        .theme-toggle {
            background: var(--color-primary);
            color: var(--color-primary-foreground);
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
            margin: 10px;
        }

        .theme-toggle:hover {
            background: var(--color-primary-hover);
            transform: translateY(-1px);
        }

        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .old-method, .new-method {
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .old-method {
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
        }

        .new-method {
            background-color: #e3f2fd;
            border: 2px solid #2196f3;
        }

        .old-method h3 {
            color: #6c757d;
        }

        .new-method h3 {
            color: #1976d2;
        }
    </style>
</head>
<body>
    <!-- è‡ªå®šä¹‰çª—å£æ§åˆ¶æŒ‰é’® -->
    <div class="window-controls">
        <button class="window-control-btn close-btn" id="close-btn">
            <i class="ph ph-x"></i>
        </button>
        <button class="window-control-btn minimize-btn" id="minimize-btn">
            <i class="ph ph-minus"></i>
        </button>
        <button class="window-control-btn maximize-btn" id="maximize-btn">
            <i class="ph ph-square"></i>
        </button>
    </div>

    <div class="container">
        <div class="header">
            <h1>ğŸªŸ è‡ªå®šä¹‰çª—å£æ§åˆ¶æŒ‰é’®</h1>
            <p>å®Œå…¨è‡ªå®šä¹‰çš„macOSé£æ ¼çª—å£æ§åˆ¶æŒ‰é’®</p>
            <button class="theme-toggle" onclick="toggleTheme()">åˆ‡æ¢ä¸»é¢˜</button>
            <span id="current-theme">å½“å‰ä¸»é¢˜ï¼šäº®è‰²</span>
        </div>

        <!-- æŒ‰é’®å±•ç¤º -->
        <div class="section">
            <h2>ğŸ¨ æŒ‰é’®å±•ç¤º</h2>
            <div class="demo-area">
                <div class="demo-controls">
                    <button class="demo-btn demo-close-btn">
                        <i class="ph ph-x"></i>
                    </button>
                    <button class="demo-btn demo-minimize-btn">
                        <i class="ph ph-minus"></i>
                    </button>
                    <button class="demo-btn demo-maximize-btn">
                        <i class="ph ph-square"></i>
                    </button>
                </div>
                <div>
                    <strong>macOSé£æ ¼çª—å£æ§åˆ¶æŒ‰é’®</strong><br>
                    <span style="color: var(--color-text-secondary); font-size: 14px;">
                        12pxåœ†å½¢æŒ‰é’®ï¼Œçº¢è‰²å…³é—­ã€é»„è‰²æœ€å°åŒ–ã€ç»¿è‰²æœ€å¤§åŒ–<br>
                        æ‚¬åœæ—¶æ˜¾ç¤ºåŠé€æ˜é»‘è‰²å›¾æ ‡
                    </span>
                </div>
            </div>
        </div>

        <!-- å¯¹æ¯”è¯´æ˜ -->
        <div class="section">
            <h2>ğŸ”„ æ–¹æ³•å¯¹æ¯”</h2>
            <div class="comparison">
                <div class="old-method">
                    <h3>æ—§æ–¹æ³• (titleBarOverlay)</h3>
                    <div class="demo-controls" style="justify-content: center; margin: 20px 0;">
                        <button class="demo-btn demo-close-btn">
                            <i class="ph ph-x"></i>
                        </button>
                        <button class="demo-btn demo-minimize-btn">
                            <i class="ph ph-minus"></i>
                        </button>
                        <button class="demo-btn demo-maximize-btn">
                            <i class="ph ph-square"></i>
                        </button>
                    </div>
                    <p>âŒ yå±æ€§æ— æ³•è°ƒæ•´ä½ç½®</p>
                    <p>âŒ ä½ç½®å›ºå®šï¼Œæ— æ³•è‡ªå®šä¹‰</p>
                </div>
                
                <div class="new-method">
                    <h3>æ–°æ–¹æ³• (å®Œå…¨è‡ªå®šä¹‰)</h3>
                    <div class="demo-controls" style="justify-content: center; margin: 20px 0;">
                        <button class="demo-btn demo-close-btn">
                            <i class="ph ph-x"></i>
                        </button>
                        <button class="demo-btn demo-minimize-btn">
                            <i class="ph ph-minus"></i>
                        </button>
                        <button class="demo-btn demo-maximize-btn">
                            <i class="ph ph-square"></i>
                        </button>
                    </div>
                    <p>âœ… å®Œå…¨æ§åˆ¶ä½ç½®</p>
                    <p>âœ… è‡ªå®šä¹‰æ ·å¼å’Œé¢œè‰²</p>
                </div>
            </div>
        </div>

        <!-- æŠ€æœ¯å®ç° -->
        <div class="section">
            <h2>ğŸ”§ æŠ€æœ¯å®ç°</h2>
            <h3>1. ä¸»è¿›ç¨‹é…ç½® (main.js)</h3>
            <div class="code-block">
const mainWindow = new BrowserWindow({
    width: 1200,
    height: 800,
    <span class="highlight">frame: false</span>, // å®Œå…¨è‡ªå®šä¹‰çª—å£æ§åˆ¶
    <span class="highlight">titleBarStyle: 'hidden'</span>, // éšè—æ ‡é¢˜æ 
    webPreferences: {
        nodeIntegration: false,
        contextIsolation: true,
        enableRemoteModule: false,
        preload: path.join(__dirname, 'preload.js')
    }
});
            </div>

            <h3>2. HTMLç»“æ„</h3>
            <div class="code-block">
&lt;div class="<span class="highlight">window-controls</span>"&gt;
    &lt;button class="window-control-btn close-btn" id="close-btn"&gt;
        &lt;i class="ph ph-x"&gt;&lt;/i&gt;
    &lt;/button&gt;
    &lt;button class="window-control-btn minimize-btn" id="minimize-btn"&gt;
        &lt;i class="ph ph-minus"&gt;&lt;/i&gt;
    &lt;/button&gt;
    &lt;button class="window-control-btn maximize-btn" id="maximize-btn"&gt;
        &lt;i class="ph ph-square"&gt;&lt;/i&gt;
    &lt;/button&gt;
&lt;/div&gt;
            </div>

            <h3>3. CSSæ ·å¼</h3>
            <div class="code-block">
.window-controls {
    position: <span class="highlight">fixed</span>;
    top: <span class="highlight">8px</span>;
    left: <span class="highlight">8px</span>;
    display: flex;
    gap: 8px;
    z-index: 1000;
    <span class="highlight">-webkit-app-region: no-drag</span>;
}

.window-control-btn {
    width: 28px;
    height: 28px;
    border-radius: <span class="highlight">50%</span>;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
}

.close-btn { background-color: <span class="highlight">#ff5f57</span>; }
.minimize-btn { background-color: <span class="highlight">#ffbd2e</span>; }
.maximize-btn { background-color: <span class="highlight">#28ca42</span>; }
            </div>

            <h3>4. JavaScriptäº‹ä»¶å¤„ç†</h3>
            <div class="code-block">
setupWindowControls() {
    const closeBtn = document.getElementById('close-btn');
    if (closeBtn) {
        closeBtn.addEventListener('click', () => {
            if (window.electronAPI && window.electronAPI.windowAPI) {
                <span class="highlight">window.electronAPI.windowAPI.close()</span>;
            }
        });
    }
    // ... å…¶ä»–æŒ‰é’®äº‹ä»¶
}
            </div>
        </div>

        <!-- ä¼˜åŠ¿è¯´æ˜ -->
        <div class="section">
            <h2>âœ¨ ä¼˜åŠ¿ç‰¹ç‚¹</h2>
            <ul style="color: var(--color-text-secondary); line-height: 2;">
                <li><strong>å®Œå…¨æ§åˆ¶</strong>ï¼šå¯ä»¥ç²¾ç¡®æ§åˆ¶æŒ‰é’®çš„ä½ç½®ã€å¤§å°ã€é¢œè‰²</li>
                <li><strong>ä¸»é¢˜é€‚é…</strong>ï¼šæŒ‰é’®é¢œè‰²å¯ä»¥è·Ÿéšåº”ç”¨ä¸»é¢˜å˜åŒ–</li>
                <li><strong>äº¤äº’åé¦ˆ</strong>ï¼šæ”¯æŒæ‚¬åœæ•ˆæœã€ç‚¹å‡»åé¦ˆç­‰</li>
                <li><strong>è·¨å¹³å°</strong>ï¼šåœ¨Windowsã€Linuxä¸Šä¹Ÿèƒ½ä¿æŒä¸€è‡´çš„macOSé£æ ¼</li>
                <li><strong>å¯æ‰©å±•</strong>ï¼šå¯ä»¥è½»æ¾æ·»åŠ æ›´å¤šåŠŸèƒ½æŒ‰é’®</li>
                <li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šä½¿ç”¨CSSè¿‡æ¸¡åŠ¨ç”»ï¼Œæ€§èƒ½æ›´å¥½</li>
            </ul>
        </div>
    </div>

    <script>
        let isDarkTheme = false;

        function toggleTheme() {
            isDarkTheme = !isDarkTheme;
            document.body.className = isDarkTheme ? 'theme-dark' : 'theme-light';
            
            const themeText = document.getElementById('current-theme');
            themeText.textContent = `å½“å‰ä¸»é¢˜ï¼š${isDarkTheme ? 'æš—è‰²' : 'äº®è‰²'}`;
        }

        // åˆå§‹åŒ–
        document.body.className = 'theme-light';

        // çª—å£æ§åˆ¶æŒ‰é’®åŠŸèƒ½
        document.getElementById('close-btn').addEventListener('click', () => {
            if (window.electronAPI && window.electronAPI.windowAPI) {
                window.electronAPI.windowAPI.close();
            } else {
                alert('å…³é—­çª—å£ (åœ¨å®é™…åº”ç”¨ä¸­ä¼šå…³é—­Electronçª—å£)');
            }
        });

        document.getElementById('minimize-btn').addEventListener('click', () => {
            if (window.electronAPI && window.electronAPI.windowAPI) {
                window.electronAPI.windowAPI.minimize();
            } else {
                alert('æœ€å°åŒ–çª—å£ (åœ¨å®é™…åº”ç”¨ä¸­ä¼šæœ€å°åŒ–Electronçª—å£)');
            }
        });

        document.getElementById('maximize-btn').addEventListener('click', () => {
            if (window.electronAPI && window.electronAPI.windowAPI) {
                window.electronAPI.windowAPI.maximize();
            } else {
                alert('æœ€å¤§åŒ–çª—å£ (åœ¨å®é™…åº”ç”¨ä¸­ä¼šæœ€å¤§åŒ–/è¿˜åŸElectronçª—å£)');
            }
        });
    </script>
</body>
</html>
